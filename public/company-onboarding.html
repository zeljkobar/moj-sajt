<!DOCTYPE html>
<html lang="sr">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-DGZCVVHKXW"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-DGZCVVHKXW');
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dobrodošli u Summa Summarum | Registracija firme</title>

    <!-- Favicon -->
    <link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="images/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Theme Preloader - sprečava bljeskanje dark/light mode -->
    <script src="components/theme-preloader.js"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="global-components.css" />
    <link rel="stylesheet" href="app-pages.css" />

    <style>
      .welcome-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 10px 0 155px 0; /* Povećan padding i podignut tekst */
        position: relative;
        overflow: hidden;
      }

      .welcome-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="white" opacity="0.1"/></svg>')
          repeat;
        animation: float 20s infinite linear;
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        100% {
          transform: translateY(-100px);
        }
      }

      .feature-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 2rem;
        transition: transform 0.3s ease;
      }

      .feature-icon:hover {
        transform: scale(1.1);
      }

      .feature-card {
        text-align: center;
        padding: 30px 20px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: none;
        height: 100%;
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .main-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        border: 2px solid #0d6efd;
        overflow: hidden;
      }

      .main-card-header {
        background: linear-gradient(135deg, #0d6efd 0%, #6610f2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .main-card-body {
        padding: 40px;
      }

      .action-buttons {
        gap: 15px;
        margin-top: 30px;
      }

      .btn-primary-custom {
        background: linear-gradient(135deg, #0d6efd 0%, #6610f2 100%);
        border: none;
        padding: 15px 40px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(13, 110, 253, 0.3);
      }

      .btn-primary-custom:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(13, 110, 253, 0.4);
      }

      .btn-outline-custom {
        border: 2px solid #6c757d;
        color: #6c757d;
        padding: 15px 30px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
      }

      .btn-outline-custom:hover {
        background: #6c757d;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(108, 117, 125, 0.3);
      }

      .progress-steps {
        display: flex;
        justify-content: center;
        margin: 40px 0;
      }

      .step {
        display: flex;
        align-items: center;
        margin: 0 15px;
      }

      .step-circle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        margin-right: 10px;
      }

      .step-1 .step-circle {
        background: #0d6efd;
      }
      .step-2 .step-circle {
        background: #198754;
      }
      .step-3 .step-circle {
        background: #17a2b8;
      }

      /* Responsive naslov - osiguravamo da se vidi potpuno */
      .welcome-hero h1 {
        word-wrap: break-word;
        hyphens: auto;
        line-height: 1.2;
        white-space: normal !important;
        overflow: visible !important;
        text-overflow: unset !important;
      }

      /* Još agresivniji responsive stilovi */
      @media (max-width: 992px) {
        .welcome-hero h1.display-4 {
          font-size: 2.8rem !important;
          line-height: 1.1 !important;
        }
      }

      @media (max-width: 768px) {
        .welcome-hero h1.display-4 {
          font-size: 2.2rem !important;
          line-height: 1.1 !important;
        }
      }

      @media (max-width: 576px) {
        .welcome-hero h1.display-4 {
          font-size: 1.8rem !important;
          line-height: 1.1 !important;
        }
      }

      @media (max-width: 480px) {
        .welcome-hero h1.display-4 {
          font-size: 1.6rem !important;
          line-height: 1.1 !important;
        }
      }

      @media (max-width: 400px) {
        .welcome-hero h1.display-4 {
          font-size: 1.4rem !important;
          line-height: 1.1 !important;
        }
      }

      /* Dodatno osiguraj da se container prilagodi */
      .welcome-hero .container {
        padding-left: 30px !important;
        padding-right: 30px !important;
      }

      @media (max-width: 768px) {
        .welcome-hero {
          padding: 80px 0 100px 0 !important; /* Mobilni padding */
        }
        .welcome-hero .container {
          padding-left: 20px !important;
          padding-right: 20px !important;
        }
      }

      @media (max-width: 576px) {
        .welcome-hero {
          padding: 60px 0 80px 0 !important; /* Još manji mobilni padding */
        }
        .welcome-hero .col-lg-8 {
          padding-left: 15px !important;
          padding-right: 15px !important;
        }
        .welcome-hero .container {
          padding-left: 15px !important;
          padding-right: 15px !important;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation će biti automatski ubačena ovde -->
    <div id="navigation-placeholder"></div>

    <!-- Welcome Hero Section -->
    <section class="welcome-hero">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-lg-8">
            <h1 class="display-4 fw-bold mb-4">
              Dobrodošli u Summa Summarum aplikaciju!
            </h1>
            <p class="lead mb-4" style="font-size: 1.3rem">
              Upravljajte vašom firmom, radnicima i dokumentima na jednom mestu
            </p>
            <div class="mt-4">
              <span class="badge bg-light text-dark px-4 py-2 fs-6">
                <i class="fas fa-user me-2"></i>
                Dobrodošli, <span id="userName">Korisniče</span>!
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <section class="py-5" style="background: #f8f9fa">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-10">
            <!-- Main Welcome Card -->
            <div class="main-card">
              <div class="main-card-header">
                <i class="fas fa-building fa-4x mb-3"></i>
                <h2 class="h1 mb-3">Započnite svoj put sa nama!</h2>
                <p class="lead mb-0">
                  Da biste počeli da koristite sistem, potrebno je da unesete
                  osnovne podatke o vašoj firmi.
                </p>
              </div>

              <div class="main-card-body">
                <!-- Progress Steps -->
                <div class="progress-steps">
                  <div class="step step-1">
                    <div class="step-circle">1</div>
                    <div>
                      <h6 class="mb-0">Osnovni podaci</h6>
                      <small class="text-muted">Naziv, adresa, kontakt</small>
                    </div>
                  </div>
                  <div class="mx-3 text-muted">
                    <i class="fas fa-arrow-right"></i>
                  </div>
                  <div class="step step-2">
                    <div class="step-circle">2</div>
                    <div>
                      <h6 class="mb-0">Poreska registracija</h6>
                      <small class="text-muted">PIB, matični broj</small>
                    </div>
                  </div>
                  <div class="mx-3 text-muted">
                    <i class="fas fa-arrow-right"></i>
                  </div>
                  <div class="step step-3">
                    <div class="step-circle">3</div>
                    <div>
                      <h6 class="mb-0">Spremno za rad</h6>
                      <small class="text-muted">Upravljanje radnicima</small>
                    </div>
                  </div>
                </div>

                <!-- Features Grid -->
                <div class="row mb-5">
                  <div class="col-md-4 mb-4">
                    <div class="feature-card">
                      <div
                        class="feature-icon"
                        style="
                          background: linear-gradient(135deg, #0d6efd, #6610f2);
                        "
                      >
                        <i class="fas fa-users text-white"></i>
                      </div>
                      <h5>Upravljanje radnicima</h5>
                      <p class="text-muted">
                        Dodajte radnike, kreirajte ugovore i pratite njihov
                        status.
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4 mb-4">
                    <div class="feature-card">
                      <div
                        class="feature-icon"
                        style="
                          background: linear-gradient(135deg, #198754, #20c997);
                        "
                      >
                        <i class="fas fa-file-invoice text-white"></i>
                      </div>
                      <h5>PDV i poreske prijave</h5>
                      <p class="text-muted">
                        Automatsko generisanje PDV prijava i praćenje rokova.
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4 mb-4">
                    <div class="feature-card">
                      <div
                        class="feature-icon"
                        style="
                          background: linear-gradient(135deg, #fd7e14, #dc3545);
                        "
                      >
                        <i class="fas fa-chart-line text-white"></i>
                      </div>
                      <h5>Izvештаји i statistike</h5>
                      <p class="text-muted">
                        Pratite performanse firme kroz detaljne izvештaje.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Benefits List -->
                <div class="row mb-4">
                  <div class="col-md-6">
                    <ul class="list-unstyled">
                      <li class="mb-3">
                        <i class="fas fa-check-circle text-success me-3"></i>
                        <strong>Automatizovane prijave</strong><br />
                        <small class="text-muted"
                          >PDV, poreske i ostale prijave</small
                        >
                      </li>
                      <li class="mb-3">
                        <i class="fas fa-check-circle text-success me-3"></i>
                        <strong>Digitalni dokumenti</strong><br />
                        <small class="text-muted"
                          >Ugovori, odluke, potvrde</small
                        >
                      </li>
                      <li class="mb-3">
                        <i class="fas fa-check-circle text-success me-3"></i>
                        <strong>Praćenje rokova</strong><br />
                        <small class="text-muted"
                          >Nikad ne propustite važan rok</small
                        >
                      </li>
                    </ul>
                  </div>
                  <div class="col-md-6">
                    <ul class="list-unstyled">
                      <li class="mb-3">
                        <i class="fas fa-check-circle text-success me-3"></i>
                        <strong>Pozajmice radnicima</strong><br />
                        <small class="text-muted"
                          >Pratite i upravljajte pozajmicama</small
                        >
                      </li>
                      <li class="mb-3">
                        <i class="fas fa-check-circle text-success me-3"></i>
                        <strong>Kalkulatori</strong><br />
                        <small class="text-muted"
                          >PDV, porez na zakup, obračuni</small
                        >
                      </li>
                      <li class="mb-3">
                        <i class="fas fa-check-circle text-success me-3"></i>
                        <strong>24/7 pristup</strong><br />
                        <small class="text-muted"
                          >Pristupite podacima bilo kad</small
                        >
                      </li>
                    </ul>
                  </div>
                </div>

                <!-- Action Buttons -->
                <div
                  class="d-flex justify-content-center action-buttons flex-wrap"
                >
                  <a href="dodaj-firmu.html" class="btn btn-primary-custom">
                    <i class="fas fa-plus me-2"></i>
                    Unesite podatke firme
                  </a>
                  <button class="btn btn-outline-custom" onclick="skipForNow()">
                    <i class="fas fa-arrow-right me-2"></i>
                    Preskočite za sada
                  </button>
                </div>

                <!-- Help Text -->
                <div class="text-center mt-4">
                  <p class="text-muted mb-0">
                    <i class="fas fa-info-circle me-2"></i>
                    Potrebna vam je pomoć?
                    <a href="kontakt.html" class="text-decoration-none"
                      >Kontaktirajte nas</a
                    >
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Additional Info Section -->
    <section class="py-5">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <h3 class="mb-4">Zašto izabrati Summa Summarum?</h3>
            <div class="row">
              <div class="col-md-4 mb-4">
                <div class="p-4">
                  <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                  <h5>Sigurnost podataka</h5>
                  <p class="text-muted">
                    Vaši podaci su zaštićeni najnovijim sigurnosnim protokolima.
                  </p>
                </div>
              </div>
              <div class="col-md-4 mb-4">
                <div class="p-4">
                  <i class="fas fa-headset fa-3x text-success mb-3"></i>
                  <h5>Podrška 24/7</h5>
                  <p class="text-muted">
                    Naš tim je dostupan da vam pomogne u svakom trenutku.
                  </p>
                </div>
              </div>
              <div class="col-md-4 mb-4">
                <div class="p-4">
                  <i class="fas fa-sync-alt fa-3x text-info mb-3"></i>
                  <h5>Redovne nadogradnje</h5>
                  <p class="text-muted">
                    Sistem se kontinuirano poboljšava i dodaju nove
                    funkcionalnosti.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./components/navigation.js"></script>
    <script src="script.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Učitavanje korisničkih podataka za prikaz imena
        loadUserData();
      });

      // Funkcija za učitavanje korisničkih podataka
      async function loadUserData() {
        try {
          const response = await fetch('/api/users/current', {
            method: 'GET',
            credentials: 'include',
          });

          if (response.ok) {
            const userData = await response.json();

            // Update imena u welcome sekciji
            document.getElementById('userName').textContent =
              userData.ime + ' ' + userData.prezime;

            // Sačuvaj korisničke podatke globalno
            window.currentUser = userData;
          } else {
            console.error('Greška pri učitavanju korisničkih podataka');
            document.getElementById('userName').textContent = 'Korisniče';
          }
        } catch (error) {
          console.error('Greška pri povezivanju sa API:', error);
          document.getElementById('userName').textContent = 'Korisniče';
        }
      }

      // Funkcija za preskakanje početne konfiguracije
      function skipForNow() {
        // Prikaži potvrdu
        if (
          confirm(
            'Da li ste sigurni da želite da preskočite unos podataka firme? Možete ih dodati kasnije.'
          )
        ) {
          // Preusmeri na dashboard
          window.location.href = 'dashboard.html';
        }
      }

      // Animacije kada se stranica učita
      window.addEventListener('load', function () {
        // Animacija za feature kartice
        const featureCards = document.querySelectorAll('.feature-card');
        featureCards.forEach((card, index) => {
          setTimeout(() => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.6s ease';

            setTimeout(() => {
              card.style.opacity = '1';
              card.style.transform = 'translateY(0)';
            }, 100);
          }, index * 200);
        });
      });
    </script>
  </body>
</html>
