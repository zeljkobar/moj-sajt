<!DOCTYPE html>
<html lang="sr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Objavi Oglas za Posao | Moj Radnik</title>

    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/shared/images/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/shared/images/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/shared/images/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/shared/site.webmanifest" />

    <!-- Dynamic Favicon Script -->
    <script src="/shared/components/dynamic-favicon.js"></script>

    <!-- Theme Preloader -->
    <script src="/shared/components/theme-preloader.js"></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link href="/shared/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="/shared/global-components.css" />
    <link rel="stylesheet" href="/shared/app-pages.css" />

    <style>
      .form-section {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .preview-card {
        border: 2px dashed #dee2e6;
        border-radius: 10px;
        padding: 1.5rem;
        background: #fafbfc;
      }

      .character-count {
        font-size: 0.85rem;
        color: #6c757d;
      }

      .salary-input-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .success-message {
        display: none;
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        padding: 1rem;
        border-radius: 10px;
        margin-bottom: 1.5rem;
      }

      .loading-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9999;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>

  <body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
      <div class="text-center text-white">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Učitavanje...</span>
        </div>
        <p class="mt-2">Objavljivanje oglasa...</p>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold" href="/mojradnik/dashboard.html">
          <i class="fas fa-briefcase me-2"></i>Moj Radnik
        </a>
        <div class="navbar-nav ms-auto">
          <a class="nav-link" href="/mojradnik/dashboard.html">
            <i class="fas fa-arrow-left me-1"></i>Nazad na Dashboard
          </a>
        </div>
      </div>
    </nav>

    <div class="container py-4">
      <!-- Header -->
      <div class="row mb-4">
        <div class="col">
          <h1 class="display-6 fw-bold text-primary mb-2">
            <i class="fas fa-plus-circle me-3"></i>Objavi Oglas za Posao
          </h1>
          <p class="lead text-muted">
            Kreirajte oglas i pronađite idealnog kandidata za vašu firmu
          </p>
        </div>
      </div>

      <!-- Success Message -->
      <div id="successMessage" class="success-message">
        <div class="d-flex align-items-center">
          <i class="fas fa-check-circle fa-2x me-3"></i>
          <div>
            <h5 class="mb-1">Oglas je uspešno objavljen!</h5>
            <p class="mb-0">
              Vaš oglas je sada dostupan kandidatima na MojRadnik.me platformi.
            </p>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Form -->
        <div class="col-lg-8">
          <form id="oglasForm">
            <!-- Osnovne informacije -->
            <div class="form-section">
              <h4 class="text-primary mb-3">
                <i class="fas fa-info-circle me-2"></i>Osnovne informacije
              </h4>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="naslov" class="form-label">Naslov oglasa *</label>
                  <input
                    type="text"
                    class="form-control"
                    id="naslov"
                    required
                    placeholder="npr. Tražimo iskusnog računovođu"
                    maxlength="255"
                  />
                  <div class="character-count">
                    <span id="naslovCount">0</span>/255
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="pozicija" class="form-label">Pozicija *</label>
                  <input
                    type="text"
                    class="form-control"
                    id="pozicija"
                    required
                    placeholder="npr. Računovođa"
                    maxlength="255"
                  />
                </div>

                <div class="col-12">
                  <label for="opis" class="form-label">Opis posla *</label>
                  <textarea
                    class="form-control"
                    id="opis"
                    rows="6"
                    required
                    placeholder="Opišite zadatke, odgovornosti, potrebne veštine i sve što je važno za poziciju..."
                  ></textarea>
                  <div class="character-count">
                    <span id="opisCount">0</span> karaktera
                  </div>
                </div>
              </div>
            </div>

            <!-- Lokacija i tip posla -->
            <div class="form-section">
              <h4 class="text-primary mb-3">
                <i class="fas fa-map-marker-alt me-2"></i>Lokacija i tip posla
              </h4>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="lokacija" class="form-label">Lokacija</label>
                  <input
                    type="text"
                    class="form-control"
                    id="lokacija"
                    placeholder="npr. Podgorica, Bar, Nikšić..."
                  />
                </div>

                <div class="col-md-6">
                  <label for="tipPosla" class="form-label">Tip posla</label>
                  <select class="form-select" id="tipPosla">
                    <option value="puno_vreme" selected>Puno vrijeme</option>
                    <option value="skraceno">Skraćeno vrijeme</option>
                    <option value="praksa">Praksa</option>
                    <option value="privremeno">Privremeno</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Zahtevi -->
            <div class="form-section">
              <h4 class="text-primary mb-3">
                <i class="fas fa-graduation-cap me-2"></i>Zahtjevi
              </h4>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="iskustvoGodine" class="form-label"
                    >Potrebno iskustvo (godine)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="iskustvoGodine"
                    min="0"
                    max="20"
                    placeholder="0"
                  />
                </div>

                <div class="col-md-6">
                  <label for="obrazovanje" class="form-label"
                    >Minimalno obrazovanje</label
                  >
                  <select class="form-select" id="obrazovanje">
                    <option value="">Nije specificirano</option>
                    <option value="osnovno">Osnovno obrazovanje</option>
                    <option value="srednje">Srednje obrazovanje</option>
                    <option value="visa">Viša škola</option>
                    <option value="fakultet">Fakultet</option>
                    <option value="master">Master</option>
                    <option value="doktorat">Doktorat</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Plata -->
            <div class="form-section">
              <h4 class="text-primary mb-3">
                <i class="fas fa-coins me-2"></i>Plata (opciono)
              </h4>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="plataOd" class="form-label">Plata od (EUR)</label>
                  <input
                    type="number"
                    class="form-control"
                    id="plataOd"
                    min="0"
                    step="50"
                    placeholder="800"
                  />
                </div>

                <div class="col-md-6">
                  <label for="plataDo" class="form-label">Plata do (EUR)</label>
                  <input
                    type="number"
                    class="form-control"
                    id="plataDo"
                    min="0"
                    step="50"
                    placeholder="1200"
                  />
                </div>
              </div>
            </div>

            <!-- Kontakt i objava -->
            <div class="form-section">
              <h4 class="text-primary mb-3">
                <i class="fas fa-calendar-alt me-2"></i>Kontakt i objava
              </h4>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="kontaktEmail" class="form-label"
                    >Kontakt email</label
                  >
                  <input
                    type="email"
                    class="form-control"
                    id="kontaktEmail"
                    placeholder="hr@vašafirma.me"
                  />
                  <div class="form-text">
                    Ostavite prazno da koristite email firme
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="kontaktTelefon" class="form-label"
                    >Kontakt telefon</label
                  >
                  <input
                    type="tel"
                    class="form-control"
                    id="kontaktTelefon"
                    placeholder="+382 20 123-456"
                  />
                </div>

                <div class="col-md-6">
                  <label for="datumIsteka" class="form-label"
                    >Oglas važi do</label
                  >
                  <input type="date" class="form-control" id="datumIsteka" />
                  <div class="form-text">
                    Ostavite prazno za 30 dana od danas
                  </div>
                </div>
              </div>
            </div>

            <!-- Submit -->
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button
                type="button"
                class="btn btn-outline-secondary me-md-2"
                onclick="history.back()"
              >
                <i class="fas fa-times me-2"></i>Odustani
              </button>
              <button
                type="submit"
                class="btn btn-primary btn-lg"
                id="submitBtn"
              >
                <i class="fas fa-paper-plane me-2"></i>Objavi Oglas
              </button>
            </div>
          </form>
        </div>

        <!-- Preview -->
        <div class="col-lg-4">
          <div class="sticky-top" style="top: 2rem">
            <div class="preview-card">
              <h5 class="text-primary mb-3">
                <i class="fas fa-eye me-2"></i>Pregled oglasa
              </h5>

              <div id="preview">
                <div class="text-muted text-center py-4">
                  <i class="fas fa-clipboard-list fa-3x mb-3"></i>
                  <p>Počnite da popunjavate formu da vidite pregled oglasa</p>
                </div>
              </div>
            </div>

            <div class="mt-3 p-3 bg-light rounded">
              <h6 class="text-primary">
                <i class="fas fa-info-circle me-2"></i>Savjeti
              </h6>
              <ul class="list-unstyled mb-0 small">
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>
                  Budite precizni u opisu posla
                </li>
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>
                  Navedite konkretne vještine
                </li>
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>
                  Dodajte informaciju o plati
                </li>
                <li>
                  <i class="fas fa-check text-success me-2"></i>
                  Koristite jasne kontakt informacije
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/shared/components/auth-check.js"></script>
    <script src="objavi-oglas.js"></script>
  </body>
</html>
