<!DOCTYPE html>
<html lang="sr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Ugovor o radu - Summa Summarum" />
    <meta name="author" content="Summa Summarum" />

    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="images/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="site.webmanifest" />

    <!-- Theme Preloader - spreƒçava bljeskanje dark/light mode -->
    <script src="components/theme-preloader.js"></script>

    <title>Ugovor o radu</title>
    <link rel="stylesheet" href="global-components.css" />
    <!-- PDF Export biblioteka -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
      body {
        font-family: "Times New Roman", serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background-color: #f9f9f9;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        background-color: white;
        padding: 40px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      h1,
      h2 {
        text-align: center;
        color: #333;
      }
      h1 {
        font-size: 24px;
        margin-bottom: 30px;
        text-transform: uppercase;
      }
      h2 {
        font-size: 18px;
        margin: 20px 0;
      }
      .article {
        margin: 20px 0;
      }
      .article-title {
        font-weight: bold;
        text-align: center;
        margin: 15px 0 10px 0;
      }
      .signature-section {
        display: flex;
        justify-content: space-between;
        margin-top: 50px;
        padding-top: 20px;
      }
      .signature {
        text-align: center;
        width: 200px;
      }
      .signature-line {
        border-bottom: 1px solid #333;
        margin-bottom: 5px;
        height: 40px;
      }
      .print-button,
      .pdf-button,
      .word-button {
        position: fixed;
        right: 20px;
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 120px;
        justify-content: center;
      }

      .print-button {
        top: 20px;
        background-color: #007bff;
      }

      .pdf-button {
        top: 80px;
        background-color: #dc3545;
      }

      .word-button {
        top: 140px;
        background-color: #6f42c1;
      }

      .print-button:hover,
      .pdf-button:hover,
      .word-button:hover {
        opacity: 0.8;
      }

      @media print {
        .print-button,
        .pdf-button,
        .word-button {
          display: none !important;
        }
        body {
          background-color: white;
          padding: 0;
        }
        .container {
          box-shadow: none;
          padding: 20px;
        }

        /* Ukloni header i footer sa datumom i linkom */
        @page {
          margin: 0.5in;
          size: A4;
        }

        /* Sakrij default browser header/footer */
        html,
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }
    </style>
  </head>
  <body>
    <button class="print-button" onclick="window.print()">üñ®Ô∏è ≈†tampaj</button>
    <button class="pdf-button" onclick="downloadPDF()">üìÑ PDF</button>
    <button class="word-button" onclick="downloadWordCompact()">üìù Word</button>

    <div class="container">
      <p>
        Na osnovu ƒçl. 29, 30 taƒç.1 i 31. Zakona o radu (¬ªSl.list CG¬´.br.74/2019,
        ... 68/21 u daljem tekstu: ZAKON), odredbi Op≈°teg kolektivnog ugovora
        (¬ªSl.list CG¬´ br. 150/2022), ƒçl.16. Zakon o za≈°titi i zdravlju na radu
        (¬ªSl.list CG¬´ br.34/14 i 44/18), ƒçl.1. Pravilnika o pitanjima iz za≈°tite
        na radu koja treba urediti ugovorom o radu (¬ªSl.list RCG¬´ br.67/05) i
        ƒçl.7 Zakona o zabrani zlostavljanja na radu (¬ªSl.list CG¬´, br.30/12 i
        54/16) dana zakljuƒçuje 01.07.2025 se sledeƒái
      </p>

      <h1>
        UGOVOR O RADU<br />na <span id="tip-ugovora">odredjeno</span> vrijeme
      </h1>

      <p>
        <strong>POSLODAVAC:</strong>
        <span id="firma-naziv">MURIZ D.O.O.</span> PIB:
        <span id="firma-pib">02068974</span><br />
        adresa: <span id="firma-adresa">MILA BOSKOVICA</span> koga zastupa
        izvr≈°ni direktor <span id="direktor-ime">SPIƒåANOVIƒÜ VOJIN</span>
      </p>

      <p>
        <strong>ZAPOSLENI:</strong>
        <span id="radnik-ime-prezime">DEJAN NOVOVIƒÜ</span> iz Bara jmbg:
        <span id="radnik-jmbg">0506981250010</span>, sa adresom stanovanja:
        <span id="radnik-adresa">Bar, Ulica 123</span>, <br />
      </p>
      <p>
        Ovim ugovorom se uredjuju odnosi po osnovu rada izmedju poslodavca i
        zaposlenog i utvrdjuju medjusobna prava, obaveze i odgovornosti u skladu
        sa odredbama Zakona o radu, Op≈°teg kolektivnog ugovora i akata
        poslodavca.
      </p>

      <div class="article">
        <div class="article-title">ƒålan 1.</div>
        <p>
          Zaposleni zasniva radni odnos na radnom mjestu
          <span id="pozicija-naziv">rukovalac graƒëevi</span> u prostorijama
          poslodavca.<br />
          U obavljanju poslova iz prethodnog stava zaposleni:
        </p>
        <div id="pozicija-opis">
          <p>
            - Upravljanje ma≈°inama: Rukovalac upravlja razliƒçitim graƒëevinskim
            ma≈°inama kao ≈°to su bageri, buldo≈æeri, utovarivaƒçi, rovokopaƒçi,
            valjci, kranovi i druge specijalizovane ma≈°ine.<br />
            -Odr≈æavanje ma≈°ina: Redovno pregledanje, ƒçi≈°ƒáenje i osnovno
            odr≈æavanje ma≈°ina kako bi se osiguralo da su u ispravnom stanju za
            rad. To ukljuƒçuje proveru ulja, goriva, rashladne teƒçnosti i drugih
            va≈ænih komponenti.
          </p>
        </div>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 2.</div>
        <p>
          Radni odnos se zasniva na
          <span id="tip-ugovora-clan2">odreƒëeno</span> vrijeme za period od
          <span id="datum-zaposlenja-clan2">01.07.2025</span
          ><span id="do-datum-prestanka-wrapper">
            do <span id="datum-prestanka-clan2">31.12.2025</span></span
          >
          godine.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 3.</div>
        <p>
          Zaposleni stupa na rad dana
          <span id="datum-stupanja">01.07.2025</span> godine.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 4.</div>
        <p>
          Zaposlenom pripada mjeseƒçna zarada u neto iznosu od
          <span id="visina-zarade">800,00</span> eura u skladu sa ƒçl.11 Op≈°teg
          kolektivnog ugovora (Sl. list CG 37/19). Minimalna zarada, u neto
          iznosu, ne mo≈æe biti ni≈æa od 600,00 eura, dok Vlada ne utvrdi
          drugaƒçije.
        </p>
        <p>
          Zarada zaposlenog uveƒáava se po ƒçasu za svaku zapocetu godinu radnog
          sta≈æa i to:<br />
          - do 10 godina 0.5 %<br />
          - od 10-20 godina 0.75 %<br />
          - preko 20 godina 1 %
        </p>
        <p>
          Zarada zaposlenog uveƒáava se po ƒçasu :<br />
          - 40% za rad noƒáu ( izmedju 22 sata i 6 sat narednog dana )<br />
          - 150% za rad na dane drzavnog ili vjerskog praznika<br />
          - 40 % za rad duzi od punog radnog vreinena ( prekovremeni rad )
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 5.</div>
        <p>
          Zaposlenom pripadaju i naknade zarada u skladu sa odredbama Opsteg
          kolektivnog ugovora i aktima poslodavca.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 6.</div>
        <p>
          Poslodavac je duzan da u rokovima utvrdjenim zakonom I op≈°tim
          kolektivnim ugovorom vr≈°i i isplatu zarada i naknada zarada zaposlenom
          iz ƒçl. 4 i 5 ovog ugovora do kraja mjeseca za predhodni mjesec.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 7.</div>
        <p>
          Radni odnos se zasniva na
          <span id="tip-ugovora-clan7">odredjeno</span> vrijeme za period od
          <span id="datum-pocetka">01.07.2025</span
          ><span id="datum-kraja-wrapper">
            do <span id="datum-kraja">31.12.2025</span></span
          ><br />
          adresa <span id="mesto-rada">SUSANJ BB</span>
        </p>
        <p>
          Zaposleni obavlja poslove iz tac. 1 u prostorijama poslodavca, sa
          <span id="tip-radnog-vremena">PUNIM</span> radnim vremenom od
          <span id="sati-dnevno">8</span> (<span id="sati-dnevno-tekst"
            >osam</span
          >) ƒçasova dnevno, odnosno <span id="sati-nedeljno">40</span> (<span
            id="sati-nedeljno-tekst"
            >ƒçetrdeset</span
          >) nedeljno
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 8.</div>
        <p>
          Zaposleni ima pravo na dnevni odmor u toku rada u trajanju od 30
          minuta, i jedan dan sedmiƒçnog odmora koji ƒáe koristiti nedjeljom odn.
          drugim danom po odluci izvr≈°nog direktora Dru≈°tva.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 9.</div>
        <p>
          Zaposleni ima pravo na godisnji odmor u trajanju od po 2 radna dana za
          svaki mjesec rada. Godi≈°nji odmor se pored vremena iz prethodnog stava
          uveƒáava prema du≈æini radnog sta≈æa:<br />
          - Od 5 do 15 godina ‚Äì 1 radni dan<br />
          - Od 15 do 25 godina ‚Äì 2 radna dana<br />
          - Od 25 do 35 godina ‚Äì 3 radna dana<br />
          - Preko 35 godina ‚Äì 5 radnih dana
        </p>
        <p>
          Zaposleni ima pravo na odsustvo sa rada ( plaƒáeno odn. neplaƒáeno) u
          skladu sa odredbama Zakona o radu, Op≈°teg kolektivnog ugovora i akata
          poslodavca.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 10</div>
        <p>
          Zaposleni je du≈æan da :<br />
          - savjesno i odgovorno obavlja poslove radnog mjesta ,<br />
          - po≈°tuje organizaciju rada i poslovanje kod poslodavca, kao i uslove
          i pravila poslodavca u vezi sa ispunjavanjem ugovorenih i drugih
          obaveza iz radnog odnosa,<br />
          - vodi raƒçuna i savjesno se odnosi prema sredstvima rada i
          materijalnim sredstvima poslodavca,<br />
          - obavijesti poslodavca o situacijama koje po mi≈°ljenju zaposlenog
          mogu da predstavljaju opasnost po ≈æivot i zdravlje i sa kojima
          zaposleni ne mo≈æe da se suoƒçi na odgovarajuƒái naƒçin, ili o svakoj
          situaciji za koju zaposleni ima objektivnih razloga da smatra da
          predstavlja neposrednu i ozbiljnu opasnost za njegov ≈æivot ili
          zdravlje,<br />
          - u roku od 3 dana od dana promjene adrese stanovanja o tome
          obavijesti poslodavca,<br />
          - po≈°tuje propise o Za≈°titi i zdravlju na radu i pa≈æljivo obavlja
          posao na naƒçin da ≈°titi svoj ≈æivot i zdravlje , kao i ≈æivot i zdravlje
          drugih lica,<br />
          - postupa u skladu sa drugim obavezama utvrƒëenim zakonom, kolektivnim
          ugovorom, aktima poslodavca I ugovorom o radu<br />
          - najkasnije u roku od 3 dana od dana nastupanja privremene
          sprijeƒçenosti za rad, liƒçno ili preko drugog lica dostavi potvrdu
          doktora medicine.<br />
          - Da izvje≈°taj o privremenoj spreƒçenosti za rad dostavi u roku od 5
          dana od dana izdavanja
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 11</div>
        <p>
          Poslodavac je du≈æan da prijavi zaposlenog na obavezno socijalno
          osiguranje i blagovremeno uplaƒáuje doprinos za penzjsko, invalidsko i
          zdravstveno osiguranje i osiguranje za sluƒçaj nezaposlenosti.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 12</div>
        <p>
          Za vrijeme trajanja radnog odnosa zaposleni mo≈æe biti rasporeƒëen na
          svako radno mjesto koje odgovara njegovoj struƒçnoj spremi, znanju i
          sposobnostima, ukoliko to zahtijevaju potrebe procesa i organizacije
          rada.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 13</div>
        <p>
          Zaposleni mo≈æe biti privremeno rasporeƒëen na radno mjesto ƒçije
          obavljanje zahtijeva ni≈æi stepen struƒçne spreme od one koju ima, bez
          njegove saglasnosti, ukoliko to zahtijevaju potrebe procesa i
          organizacije rada , ali najdu≈æe do 30 dana.
        </p>
        <p>
          U sluƒçaju iz predhodnog stava zaposlenom pripada zarada koju je imao
          na radnom mjestu na kome je do tada radio, ako je za njega to
          povoljnije
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 14</div>
        <p>
          Zaposleni se mo≈æe rasporediti na rad u drugo mjesto rada kod ovog
          poslodavca, u sluƒçaju potrebe procesa i organizacije rada, u skladu sa
          odredbama ƒçl. 50 Zakona o radu.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 15</div>
        <p>
          Zaposleni se mo≈æe rasporediti na rad u drugo mjesto rada kod ovog
          poslodavca, u sluƒçaju potrebe procesa i organizacije rada, u skladu sa
          odredbama ƒçl. 50 Zakona o radu.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 16</div>
        <p>
          Poslodavac je du≈æan da zaposlenom obezbijedi sredstva i mjere za≈°tite
          na radu u skladu sa odredbama Zakona o za≈°titi i zdravlju na radu (
          SI. List CG 34/14) i Akta o za≈°titi na radu poslodavca.
        </p>
        <p>
          Zaposleni je du≈æan da se prilikom zakljuƒçenja ovog ugovora o radu
          upozna sa mjerama i sredstvima za≈°tite na radu, te da se u radu strogo
          pridr≈æava propisanih mjera .
        </p>
        <p>
          Nepo≈°tovanje utvrƒëenih propisa i mjera iz oblasti za≈°tite na radu
          predstavlja te≈æu povredu radne discipline zbog koje se izriƒçe mjera
          prestanak radnog odnosa.
        </p>
        <p>
          Prava, obaveze i odgovomosti zaposlenog i poslodavca koje se odnose na
          za≈°titu i zdravlje na radu uredjuju se aneksom ugovora odn. posebnim
          aktom poslodavca.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 17</div>
        <p>
          Zaposleni je du≈æan da poslove radnog mjesta obavlja savjesno i
          odgovorno skladu sa aktima poslodavca, zahjevima radnog mjesta i
          nalozima rukovodioca procesa rada
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 18</div>
        <p>
          Zaposlenom prestaje radni odnos u sluƒçajevima, na naƒçin i pod uslovima
          utvrƒëenim Zakonom, Kolektivnim ugovorom i aktima poslodavca.
        </p>
        <p>
          Ovaj Ugovor o radu raskida se zbog sledeƒáih povreda radnih obaveza:<br />
          - neizvr≈°avanjem radnih i drugih obaveza,<br />
          - nesavjesno izvr≈°avanje radnih i drugih obaveza,<br />
          - neblagovremeno i nemarno izvr≈°avanje radnih obaveza,<br />
          - pronevjera ili kraƒëa imovine preduzeƒáa,<br />
          - nezakonito raspolaganje sredstvima preduzeƒáa,<br />
          - neostvarenje predvidenih rezultata rada iz neopravdanih razloga,<br />
          - povreda propisa o za≈°titi po≈æara, eksplozije, elementarnih nepogoda
          i ≈°tetnih djelovanja otrovnih i drugih ≈°tetnih materija, kao i povreda
          propisa i nepreduzimanje mjera radi za≈°tite zaposlenih, sredstava rada
          i ≈æivotne sredine,<br />
          - zloupotreba polo≈æaja i prekoraƒçenja datih ovla≈°ƒáenja,<br />
          - odavanje poslovne i druge tajne,<br />
          - zloupotreba prava kori≈°ƒáenja bolovanja,<br />
          - ometanje jednog ili vi≈°e zaposlenih u procesu rada kojim se ote≈æava
          izvr≈°enje radnih obaveza,<br />
          - odbijanje zaposlenog da obavlja poslove radnog mjesta na koje je
          trajno - privremeno rasporeƒëen,<br />
          - falsifikovanje novƒçanih i drugih dokumenata,<br />
          - povreda radne obaveze koja predstavlja kriviƒçno djelo,<br />
          - dolazak na rad u napitom stanju ili upotreba alkohola i drugih
          narkotiƒçkih sredstava u toku rada,<br />
          - neopravdano napu≈°tanje radnog mjesta prije zavr≈°etka radnog
          vremena,<br />
          - neuredno dr≈æanje dokumenata i sredstava rada,<br />
          - nedovoljno preduzimanje mjera za≈°tite na radu ili za≈°tite radnika na
          rad ili za≈°tite imovine preduzeƒáa,<br />
          - prouzrokovanje materijalne ≈°tete usled krajnje nepa≈ænje ili
          namjere,<br />
          - poku≈°aj kraƒëe, posticaj na kraƒëu ili sauƒçesni≈°tvo u kraƒëi imovine u
          preduzeƒáu,<br />
          - neopravdano izostajanje sa rada 5 radnih dana.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 19</div>
        <p>
          Zaposlenom prestaje radni odnos istekom roka iz taƒçke 2. ovog ugovora
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 20</div>
        <p>
          Ovaj ugovor se mo≈æe raskinuti i prije isteka roka iz taƒçke 2.
          sporazumom poslodavca i zaposlenog, kojim ƒáe se utvrdit rokovi i
          uslovi prestanka radnog odnosa.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 21</div>
        <p>
          Zaposleni mo≈æe otkazati ovaj ugovor o radu u pisanoj formi , ist mora
          biti ovjeren kod strane notara, suda ili organa lokalne uprave, i
          dostavljen poslodavcu u pisanoj formi najmanje 30 dana prije dana
          prestanka radnog odnosa, osim ako se poslodavca i zaposleni drugaƒçije
          ne dogovore
        </p>
        <p>
          U sluƒçaju da zaposleni ne ispo≈°tuje otkazni rok poslodavac ima pravo
          na naknadu ≈°tete , u skladu sa odredbama Zakona o radu.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 22</div>
        <p>
          Za slucaj otkazivanja ovog ugovora o radu ugovara se otkazni rok od 30
          dana.<br />
          Na sva pitanja vezana za otkazni rok neposredno se primjenjuju odredbe
          ƒçl. 177 Zakona o radu
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 23</div>
        <p>
          Ukoliko zaposleni umi≈°ljajem ili iz nehata povrijedi radnu obavezu ili
          se ne pridrzava odluke koju je donio poslodavac, odgovara za uƒçinjenu
          povredu radne obaveze.
        </p>
        <p>
          Vrste povreda radnih obaveza, mjere za povrede radnih obaveza i
          postupak utvrdjivanja odgovornosti uredjuju se aktom o dispciplinskoj
          odgovomosti poslodavca, u skladu sa odredbama Zakona o radu.
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 24</div>
        <p>
          Na sve ≈°to nije predviƒëeno ovim ugovorom neposredno ƒáe se
          primjenjivati odredbe Zakona i op≈°teg kolektivnog ugovora
        </p>
      </div>

      <div class="article">
        <div class="article-title">ƒålan 25</div>
        <p>
          Ovaj ugovor se smatra zakljuƒçenim kada ga potpi≈°u poslodavac i
          zaposleni.
        </p>
      </div>

      <div class="signature-section">
        <div class="signature">
          <div class="signature-line"></div>
          <p><strong>POSLODAVAC</strong></p>
        </div>
        <div class="signature">
          <div class="signature-line"></div>
          <p><strong>ZAPOSLENI</strong></p>
        </div>
      </div>
    </div>

    <script>
      async function popuniUgovor(ugovorId) {
        try {
          const response = await fetch(`/api/contracts/${ugovorId}`);
          const ugovor = await response.json();

          // Koristi novu centralizovanu funkciju za popunjavanje
          popuniUgovorSaPodacima(ugovor);
        } catch (error) {
          console.error("Gre≈°ka pri dohvaƒáanju ugovora:", error);
        }
      }

      async function popuniUgovorPoRadniku(radnikId, firmaId) {
        try {
          // Uƒçitaj podatke o radniku i firmi direktno
          const [radnikResponse, firmaResponse] = await Promise.all([
            fetch(`/api/radnici/id/${radnikId}`),
            fetch(`/api/firme/id/${firmaId}`),
          ]);

          const radnik = await radnikResponse.json();
          const firma = await firmaResponse.json();

          // Kreiraj ugovor objekat u istom formatu kao ≈°to API vraƒáa
          const ugovor = {
            radnik_tip_ugovora: radnik.tip_ugovora,
            firma_naziv: firma.naziv,
            firma_pib: firma.pib,
            firma_adresa: firma.adresa,
            direktor_ime_prezime: firma.direktor_ime_prezime,
            radnik_ime: radnik.ime,
            radnik_prezime: radnik.prezime,
            radnik_jmbg: radnik.jmbg,
            radnik_grad: radnik.grad,
            radnik_adresa: radnik.adresa,
            pozicija_naziv: radnik.pozicija_naziv,
            opis_poslova: radnik.opis_poslova,
            datum_zaposlenja: radnik.datum_zaposlenja,
            datum_prestanka: radnik.datum_prestanka,
            visina_zarade: radnik.visina_zarade,
            tip_radnog_vremena: radnik.tip_radnog_vremena,
          };

          // Pozovi postojeƒáu logiku popunjavanja sa kreiranim objektom
          popuniUgovorSaPodacima(ugovor);
        } catch (error) {
          console.error("Gre≈°ka pri dohvaƒáanju podataka za ugovor:", error);
        }
      }

      // Funkcija za transformaciju grada u genitiv (iz + grad)
      function transformisiGradUPadez(grad) {
        if (!grad) return "Bara"; // Default vrednost

        // Ukloni razmake i pretvori u lowercase za poreƒëenje
        const gradLower = grad.trim().toLowerCase();

        // Mapa najƒçe≈°ƒáih gradova sa njihovim pade≈ænim oblicima
        const gradoviPadezi = {
          bar: "Bara",
          budva: "Budve",
          podgorica: "Podgorice",
          nik≈°iƒá: "Nik≈°iƒáa",
          niksic: "Nik≈°iƒáa",
          "herceg novi": "Herceg Novog",
          cetinje: "Cetinja",
          ulcinj: "Ulcinja",
          kotor: "Kotora",
          tivat: "Tivta",
          pljevlja: "Pljevalja",
          "bijelo polje": "Bijelog Polja",
          berane: "Berana",
          andrijevica: "Andrijevice",
          danilovgrad: "Danilovgrada",
          kola≈°in: "Kola≈°ina",
          kolasin: "Kola≈°ina",
          mojkovac: "Mojkovca",
          plav: "Plava",
          ro≈æaje: "Ro≈æaja",
          rozaje: "Ro≈æaja",
          ≈°avnik: "≈†avnika",
          savnik: "≈†avnika",
          ≈æabljak: "≈Ωabljaka",
          zabljak: "≈Ωabljaka",
          petnjica: "Petnjice",
          gusinje: "Gusinja",
          tuzi: "Tuzija",
        };

        // Provjeri da li grad postoji u mapi
        if (gradoviPadezi[gradLower]) {
          return gradoviPadezi[gradLower];
        }

        // Osnovna pravila za nepoznate gradove
        const gradOriginal = grad.trim();

        // Gradovi koji se zavr≈°avaju na -a (≈æenski rod)
        if (gradOriginal.endsWith("a")) {
          return gradOriginal.slice(0, -1) + "e";
        }

        // Gradovi koji se zavr≈°avaju na -o (srednji rod)
        if (gradOriginal.endsWith("o")) {
          return gradOriginal.slice(0, -1) + "a";
        }

        // Gradovi koji se zavr≈°avaju na suglasnik (mu≈°ki rod)
        // Dodaj -a na kraj
        return gradOriginal + "a";
      }

      function popuniUgovorSaPodacima(ugovor) {
        // Popuni tip ugovora
        const tipTekst =
          ugovor.radnik_tip_ugovora === "na_neodredjeno"
            ? "neodreƒëeno"
            : "odreƒëeno";
        document.getElementById("tip-ugovora").textContent = tipTekst;
        document.getElementById("tip-ugovora-clan7").textContent = tipTekst;
        document.getElementById("tip-ugovora-clan2").textContent = tipTekst;

        // Popuni podatke o firmi
        document.getElementById("firma-naziv").textContent = ugovor.firma_naziv;
        document.getElementById("firma-pib").textContent = ugovor.firma_pib;
        document.getElementById("firma-adresa").textContent =
          ugovor.firma_adresa || "MILA BOSKOVICA";
        document.getElementById("direktor-ime").textContent =
          ugovor.direktor_ime_prezime || "SPIƒåANOVIƒÜ VOJIN";

        // Popuni podatke o radniku
        const radnikImePrezime = `${ugovor.radnik_prezime} ${ugovor.radnik_ime}`;
        document.getElementById("radnik-ime-prezime").textContent =
          radnikImePrezime.toUpperCase();
        document.getElementById("radnik-jmbg").textContent = ugovor.radnik_jmbg;

        // Transformi≈°i grad u odgovarajuƒái pade≈æ
        const gradUPade≈æu = transformisiGradUPadez(ugovor.radnik_grad);
        document.getElementById("radnik-adresa").textContent = gradUPade≈æu;

        // Popuni datume
        const datumZaposlenja = new Date(ugovor.datum_zaposlenja);
        const formatiraniDatumZaposlenja =
          datumZaposlenja.toLocaleDateString("sr-Latn-RS");

        document.getElementById("datum-pocetka").textContent =
          formatiraniDatumZaposlenja;
        document.getElementById("datum-stupanja").textContent =
          formatiraniDatumZaposlenja;
        document.getElementById("datum-zaposlenja-clan2").textContent =
          formatiraniDatumZaposlenja;

        // Prika≈æi/sakrij datum kraja za odreƒëeno/neodreƒëeno vreme
        const datumKrajaWrapper = document.getElementById(
          "datum-kraja-wrapper"
        );
        const doDatumPrestankaWrapper = document.getElementById(
          "do-datum-prestanka-wrapper"
        );

        if (ugovor.radnik_tip_ugovora === "na_neodredjeno") {
          datumKrajaWrapper.style.display = "none";
          doDatumPrestankaWrapper.style.display = "none";
        } else if (ugovor.datum_prestanka) {
          const datumPrestanka = new Date(ugovor.datum_prestanka);
          const formatiraniDatumPrestanka =
            datumPrestanka.toLocaleDateString("sr-Latn-RS");
          document.getElementById("datum-kraja").textContent =
            formatiraniDatumPrestanka;
          document.getElementById("datum-prestanka-clan2").textContent =
            formatiraniDatumPrestanka;
          datumKrajaWrapper.style.display = "inline";
          doDatumPrestankaWrapper.style.display = "inline";
        }

        // Popuni mesto rada
        document.getElementById("mesto-rada").textContent =
          ugovor.mesto_rada || "SUSANJ BB";

        // Popuni poziciju
        document.getElementById("pozicija-naziv").textContent =
          ugovor.pozicija_naziv || "rukovalac graƒëevi";

        // Popuni opis pozicije
        const pozicijaOpisDiv = document.getElementById("pozicija-opis");
        if (ugovor.opis_poslova) {
          pozicijaOpisDiv.innerHTML = `<p>${ugovor.opis_poslova}</p>`;
          console.log("Popunjen opis pozicije iz baze:", ugovor.opis_poslova);
        } else {
        }

        // Popuni radno vreme na osnovu tip_radnog_vremena iz baze
        let satiDnevno = 8;
        let satiNedeljno = 40;

        if (ugovor.tip_radnog_vremena) {
          switch (ugovor.tip_radnog_vremena) {
            case "puno_8h":
              satiDnevno = 8;
              satiNedeljno = 40;
              break;
            case "skraceno_6h":
              satiDnevno = 6;
              satiNedeljno = 30;
              break;
            case "skraceno_4h":
              satiDnevno = 4;
              satiNedeljno = 20;
              break;
            case "skraceno_2h":
              satiDnevno = 2;
              satiNedeljno = 10;
              break;
            default:
              satiDnevno = 8;
              satiNedeljno = 40;
          }
        }

        // Funkcija za konvertovanje broja u tekst
        const brojUTekst = (broj) => {
          const brojevi = {
            2: "dva",
            4: "ƒçetiri",
            6: "≈°est",
            8: "osam",
            10: "deset",
            20: "dvadeset",
            30: "trideset",
            40: "ƒçetrdeset",
          };
          return brojevi[broj] || broj.toString();
        };

        // Odreƒëuj tip radnog vremena
        let tipRadnogVremena = "PUNIM";
        if (satiDnevno < 8) {
          tipRadnogVremena = "SKRAƒÜENIM";
        }

        document.getElementById("tip-radnog-vremena").textContent =
          tipRadnogVremena;
        document.getElementById("sati-dnevno").textContent = satiDnevno;
        document.getElementById("sati-dnevno-tekst").textContent =
          brojUTekst(satiDnevno);
        document.getElementById("sati-nedeljno").textContent = satiNedeljno;
        document.getElementById("sati-nedeljno-tekst").textContent =
          brojUTekst(satiNedeljno);

        // Popuni visinu zarade
        if (ugovor.visina_zarade) {
          const formatiranZarada = parseFloat(
            ugovor.visina_zarade
          ).toLocaleString("sr-Latn-RS", {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          });
          document.getElementById("visina-zarade").textContent =
            formatiranZarada;
        }

        console.log("Ugovor uspe≈°no popunjen:", ugovor);
      }

      // Kada se stranica uƒçita, popuni ugovor
      document.addEventListener("DOMContentLoaded", function () {
        // Dobij ugovorId ili radnikId iz URL parametara
        const urlParams = new URLSearchParams(window.location.search);
        const ugovorId = urlParams.get("ugovor");
        const radnikId = urlParams.get("radnikId");
        const firmaId = urlParams.get("firmaId");

        // Popuni ugovor kada se stranica uƒçita
        if (ugovorId) {
          // Postojeƒái naƒçin - preko ugovor ID-a
          popuniUgovor(ugovorId);
        } else if (radnikId && firmaId) {
          // Novi naƒçin - direktno preko radnik i firma ID-a
          popuniUgovorPoRadniku(radnikId, firmaId);
        } else {
          // Fallback
          popuniUgovor(1);
        }
      });

      // ============================================
      // PDF EXPORT FUNKCIJA
      // ============================================
      async function downloadPDF() {
        try {
          // Sakrij dugmad tokom snimanja
          document.querySelector(".print-button").style.display = "none";
          document.querySelector(".pdf-button").style.display = "none";
          document.querySelector(".word-button").style.display = "none";

          const { jsPDF } = window.jspdf;
          const element = document.querySelector(".container");

          // Kreiranje canvas-a od HTML-a
          const canvas = await html2canvas(element, {
            scale: 2,
            useCORS: true,
            allowTaint: false,
          });

          const imgData = canvas.toDataURL("image/png");
          const pdf = new jsPDF("p", "mm", "a4");

          const imgWidth = 210;
          const pageHeight = 295;
          const imgHeight = (canvas.height * imgWidth) / canvas.width;
          let heightLeft = imgHeight;

          let position = 0;

          pdf.addImage(imgData, "PNG", 0, position, imgWidth, imgHeight);
          heightLeft -= pageHeight;

          while (heightLeft >= 0) {
            position = heightLeft - imgHeight;
            pdf.addPage();
            pdf.addImage(imgData, "PNG", 0, position, imgWidth, imgHeight);
            heightLeft -= pageHeight;
          }

          // Generisanje imena fajla
          const radnikIme =
            document.getElementById("radnik-ime-prezime")?.textContent ||
            "Radnik";
          const firmaNaziv =
            document.getElementById("firma-naziv")?.textContent || "Firma";
          const fileName = `Ugovor_${radnikIme.replace(
            /\s+/g,
            "_"
          )}_${firmaNaziv.replace(/\s+/g, "_")}.pdf`;

          pdf.save(fileName);

          // Poka≈æi dugmad ponovo
          document.querySelector(".print-button").style.display = "flex";
          document.querySelector(".pdf-button").style.display = "flex";
          document.querySelector(".word-button").style.display = "flex";
        } catch (error) {
          console.error("Gre≈°ka pri kreiranju PDF-a:", error);
          alert("Gre≈°ka pri kreiranju PDF-a. Poku≈°ajte ponovo.");
          document.querySelector(".print-button").style.display = "flex";
          document.querySelector(".pdf-button").style.display = "flex";
          document.querySelector(".word-button").style.display = "flex";
        }
      }

      // ============================================
      // WORD EXPORT FUNKCIJA
      // ============================================
      // ============================================
      // WORD EXPORT KOMPAKT FUNKCIJA - MANJE MARGINE
      // ============================================
      function downloadWordCompact() {
        try {
          // Uzmi sadr≈æaj ugovora
          const container = document.querySelector(".container");
          let content = container.innerHTML;

          // Optimizuj sadr≈æaj za kompaktni format
          content = content.replace(/<br\s*\/?>/gi, " ");
          content = content.replace(/\s+/g, " ");

          // Generisanje naziva fajla
          const radnikIme =
            document.getElementById("radnik-ime-prezime")?.textContent ||
            "Radnik";
          const firmaNaziv =
            document.getElementById("firma-naziv")?.textContent || "Firma";
          const fileName = `Ugovor_Kompakt_${radnikIme.replace(
            /\s+/g,
            "_"
          )}_${firmaNaziv.replace(/\s+/g, "_")}.doc`;

          // Kreiranje kompaktnog Word dokumenta
          const wordContent = `
            <html xmlns:o='urn:schemas-microsoft-com:office:office' 
                  xmlns:w='urn:schemas-microsoft-com:office:word' 
                  xmlns='http://www.w3.org/TR/REC-html40'>
            <head>
              <meta charset='utf-8'>
              <title>Ugovor o radu - Kompakt</title>
              <!--[if gte mso 9]>
              <xml>
                <w:WordDocument>
                  <w:View>Print</w:View>
                  <w:Zoom>90</w:Zoom>
                  <w:DoNotPromptForConvert/>
                </w:WordDocument>
              </xml>
              <![endif]-->
              <style>
                @page {
                  size: A4;
                  margin: 1cm 0.7cm 1cm 0.7cm; /* Jo≈° manje margine - 0.7cm levo/desno */
                }
                body { 
                  font-family: 'Times New Roman', serif; 
                  font-size: 11pt; /* Manji font */
                  line-height: 1.2; /* Kompaktniji red spacing */
                  margin: 0;
                  padding: 0;
                  color: #000;
                  background: white;
                }
                h1 { 
                  font-size: 14pt; 
                  font-weight: bold;
                  margin: 10px 0 15px 0; 
                  text-transform: uppercase; 
                  text-align: center;
                  letter-spacing: 0.5px;
                }
                h2 { 
                  font-size: 12pt; 
                  margin: 10px 0 5px 0; 
                  text-align: center;
                }
                p {
                  margin: 4px 0; /* Manji margin izmeƒëu paragafa */
                  text-align: justify;
                  text-indent: 0;
                }
                .article { 
                  margin: 8px 0; /* Manji margin izmeƒëu ƒçlanaka */
                  page-break-inside: avoid;
                }
                .article-title { 
                  font-weight: bold; 
                  text-align: center; 
                  margin: 8px 0 4px 0; 
                  font-size: 11pt;
                  text-decoration: underline;
                }
                .signature-section { 
                  display: table;
                  width: 100%;
                  margin-top: 25px; /* Manji top margin */
                  page-break-inside: avoid;
                }
                .signature { 
                  display: table-cell;
                  text-align: center; 
                  width: 45%; 
                  vertical-align: bottom;
                }
                .signature-line { 
                  border-bottom: 1px solid #000; 
                  margin-bottom: 3px; 
                  height: 25px; /* Manja visina linije */
                  width: 180px; /* Manja ≈°irina */
                  margin-left: auto;
                  margin-right: auto;
                }
                strong {
                  font-weight: bold;
                }
                /* Kompaktni stil za listu */
                ul, ol {
                  margin: 4px 0;
                  padding-left: 15px;
                }
                li {
                  margin: 1px 0;
                  line-height: 1.1;
                }
                /* Dodatni kompaktni stilovi */
                .compact-spacing {
                  margin: 2px 0;
                  line-height: 1.1;
                }
              </style>
            </head>
            <body>
              <div class="legal-text">
                ${content}
              </div>
            </body>
            </html>
          `;

          // Kreiranje blob-a i download-a
          const blob = new Blob([wordContent], {
            type: "application/msword;charset=utf-8",
          });

          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = fileName;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        } catch (error) {
          console.error(
            "Gre≈°ka pri kreiranju kompaktnog Word dokumenta:",
            error
          );
          alert(
            "Gre≈°ka pri kreiranju kompaktnog Word dokumenta. Poku≈°ajte ponovo."
          );
        }
      }
    </script>
  </body>
</html>
